@require colors

.post-view
    width: 100%
    display: flex !important
    flex-direction: column
    position: relative

    >.sidebar
        width: 21em
        @media (max-width: 800px)
            min-width: 100%
            max-width: 0

        line-height: 160%

        a:active
            border: 0
            outline: 0

        nav.buttons
            margin-top: 0
            display: flex
            flex-wrap: wrap

            article
                flex: 1 0 25%
                a
                    display: inline-block
                    width: 100%
                    padding: 0.3em 0
                    text-align: center
                    vertical-align: middle
                    //transition: background 0.2s linear, box-shadow 0.2s linear
                    transition: background 0.15s linear, box-shadow 0.15s linear
                    &:not(.inactive):hover
                        background: darken($main-color, 90%)
                i
                    font-size: 140%
                text-align: center
            /*@media (max-width: 800px)
                margin-top: 1em
                margin-bottom: 0*/
        .tag-icon
            width: 1em
            text-align: right

        #add-comment-button
            h3
                margin: 0
                font-size: 1em

    >.content
        display: flex
        flex-direction: column
        align-items: center

        position: absolute
        pointer-events: none

        width: 100%
        > *
            pointer-events: all

    .download
        display: flex
        flex-direction: column
        align-items: center

        position: absolute
        align-self: flex-end

        width: fit-content
        .la
            font-size: 32px
        .dims
            display: none

    .post-container
        margin-top: 2.5em

        /*@media (max-width: 800px)
            margin: -1em // to counter the padding of #content-holder
            margin-bottom: 0*/

        .post-content
            margin: 0
            height: fit-content !important
    @media (max-width: 800px)
        .content
            .buttons
                display: flex
                justify-content: center

                font-size: 20px
                //width: 100%

                margin-top: 20px
                gap: 15vw

    .comments-container
        margin-top: 2em

        .comment-container
            display: flex
            justify-content: center
            .comment
                display: flex
                flex-direction: column
                //flex-wrap: wrap

                width: calc(100% - 200px)
                @media (max-width: 1000px)
                    width: 75vw

                header
                    white-space: normal
                    a
                        white-space: nowrap

    .comment-form-container
        margin-top: 2em


.darktheme .post-view
    >.sidebar
        nav.buttons
            article
                a:not(.inactive):hover
                    background: unset
                    box-shadow: inset 0 0 0 0.125em $main-color

.post-view .readonly-sidebar

    body:not(.rank-moderator, .rank-administrator) & .user
        display: none

    .la-download
        color: $download-icon-color
        font-size: 32px
        &:hover
            color: lighten($download-icon-color, 20%)

    .details
        display: flex
        flex-direction: column
        
        section
            width: fit-content

        i
            display: inline-block
            width: 1em
            text-align: center

        .safety-safe
            color: $safety-safe
        .safety-sketchy
            color: $safety-sketchy
        .safety-unsafe
            color: $safety-unsafe

        .upload-info
            margin-top: 5px

            .thumbnail
                width: 1em
                height: 1em
                margin: -0.1em 0.6em 0 0
            time
                font-size: 85%
                //color: #b4b4b4
                display: block

        .zoom
            display: none
            margin-top: 1em
            a
                display: inline-block
            .active
                text-decoration: underline

        .search
            display: none

        .safety
            display: none

        .social
            //display: none
            font-size: 105%

            margin-top: 1em
            .score-container
                float: left
                margin-bottom: 5px
                .downvote i
                    text-align: right
            i
                text-align: left
                margin: 0
            .value
                text-align: center
                display: inline-block
                width: 2em

        /*@media (max-width: 800px)
            order: 2
            margin-top: 1em*/

    .similar, .lookalikes
        display: none

    .relations, .similar, .lookalikes
        h1
            margin-bottom: 0.5em
        .thumbnail
            //background-position: 50% 30%
            width: 4em
            height: 3em
        li
            margin: 0 0.3em 0.3em 0
            display: inline-block
        /*@media (max-width: 800px)
            h1
                margin-top: 0.5em*/

    .tags, .metrics
        h1
            margin-bottom: 0.5em
        /*@media (max-width: 800px)
            margin-top: 0
            h1
                display: none*/

    .tags
        //margin-top: 1em
        margin-top: 0.3em
        .tag-link-info
            &:hover
                opacity: 0.9
        .tag-link-posts
            &:hover
                opacity: 0.9
        p
            margin-bottom: .3em
        

.post-view .edit-sidebar
    .expander-content
        section:not(:last-child)
            margin-bottom: 1em

    .safety
        &>label
            width: 100%
        .radio-wrapper
            display: flex
            flex-wrap: wrap
        .radio-wrapper label
            flex-grow: 1
            display: inline-block

    .management
        ul
            list-style-type: none
            margin: 0
            padding: 0
            li
                margin: 0
                padding: 0

    .post-source
        textarea
            white-space: pre
            overflow-wrap: normal
            overflow-x: scroll

    form
        width: auto

    label:not(.file-dropper)
        margin-bottom: 0.3em
        display: block

    input[type=submit],
    input[type=button],
    button
        width: 100%
        &:focus
            border: 2px solid $text-color !important

    .messages
        margin-top: 1em
